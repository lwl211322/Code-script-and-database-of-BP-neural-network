function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 19-Aug-2022 21:20:22.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx39 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-82.8;-105;-150.2;-189.1;-257.6;-331.6;-387.7;-473.9;-531.4;-561.5;-648.8;-646.2;-647.1;-657.7;-667.59;-732;-793.7;-867.4;-1040.3;-1111.5;-1152.6;-1166.9;-1152.5;-1143;-1125;-1050;-1014.8;-856.6201;-739.5305;-684.25;-587.1234;-515.9;-485.1;-463.25;-384.48;-355.1;-310;-296;-233];
x1_step1.gain = [0.0241545893719807;0.019047619047619;0.0133155792276964;0.0105764145954521;0.0077639751552795;0.0060313630880579;0.00515862780500387;0.00422029964127453;0.00376364320662401;0.00356188780053428;0.0030826140567201;0.00309501702259362;0.00309071240921032;0.0030409001064315;0.0029958507467158;0.00273224043715847;0.00251984376968628;0.00230574129582661;0.00192252234932231;0.00179937022042285;0.0017352073572792;0.00171394292570057;0.0017353579175705;0.00174978127734033;0.00177777777777778;0.0019047619047619;0.00197083169097359;0.00233475726287534;0.00270441854663195;0.00292290829375228;0.00340643891897342;0.00387672029463074;0.00412286126571841;0.00431732325957906;0.00520183104452767;0.00563221627710504;0.00645161290322581;0.00675675675675676;0.00858369098712446];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.4390453468943544824;-0.91829040267244943507;0.62345501194737629191;-0.018199694757325912686;0.43432061650199610403;-0.93756044351161593742;-1.5005666547228513341];
IW1_1 = [0.26679441757668331814 0.056842563895705119914 0.25581689715722294443 -0.36150843735864229833 0.13422278378243213126 0.26858368838333501749 0.22227026093794549633 0.21308820002338602073 0.37793835387059682152 0.16999068636203551463 0.28293213346385948093 -0.18738199320240042645 0.341539760192383135 -0.34573492971784441918 -0.38196037176070468666 0.091263349381058594956 -0.20511651884637688292 -0.03440995946523643656 -0.32139787462291119491 -0.17836274953585029568 0.29289855342242665515 -0.28865412575976423515 0.0016709872526372922426 -0.065851576208729889483 0.080953932911120476956 -0.24361425378942760944 0.21382176014882606219 -0.31784659830397543612 0.027367544171014515642 0.047166537118901202819 -0.21065770042881951096 -0.23568648582392909274 0.34515593824623341801 -0.16993281972007598379 -0.039089928957278245736 0.20681738860663487212 0.038388445842688946608 0.40736547668154815538 -0.11091071936864561887;0.3002017470932650256 0.34942366832532301135 -0.33963366863010946428 0.23854525455580172233 -0.32345255897118962984 0.11240882997762592643 0.19596636983757481643 -0.23721993513957140287 -0.18164683629657729647 0.27659205363935296385 -0.25390450473329018166 0.049665069112240292637 -0.22724387577644808434 -0.023495309016414774733 -0.19247252518780938457 -0.24805831493908744867 0.29584005172303096121 -0.37510798820072632775 -0.13227413421306796759 -0.3441660091247440989 0.053904909319357485753 -0.30957375495004785249 -0.063108143067965666306 -0.2386770602113397477 -0.39438024481791800202 0.096208229951808499347 -0.28898375950883486984 0.32383558245957727584 -0.016467217014406045072 -0.14543350064325949456 -0.18607983614650996929 -0.24476297063719038016 0.37742196029061830798 0.058266965997385657128 -0.021559031753062684461 -0.035918109484978512358 -0.2457905977685056198 -0.41642462617102038447 0.1215867071299838037;-0.33393210037715587157 0.41976407493953549199 -0.08153725905468382773 0.31741141273352491137 0.12585266269411862772 -0.199869081837197482 -0.31003897768803545532 0.10229491175820262794 0.03115323760890429533 0.34742917705607501144 0.22426877327910135773 -0.054412627462819843083 0.15968732153364126325 0.19138690922821607887 -0.36012930023446770855 0.088199323108343413713 -0.33078179329266332864 0.35321239769762829974 -0.2476935473138361099 -0.35296885297749813759 -0.16515491044525587583 -0.24857031961693859534 -0.19752905163572609393 -0.032506106991663265282 -0.19147885554135690711 0.225438329018635919 0.15638146681162312657 0.21928151325269779059 0.27342816946649972643 0.39274765336511341385 0.0006769813615751310576 0.014186022625265408414 -0.027652347180473824118 0.17134684704443078895 -0.33696412443339707199 0.095524807750574619591 0.017811616808426713326 0.30690866374578090747 -0.29102524333200768814;0.34332812037692345131 -0.23334394594628327102 0.3493694304377572557 0.12522742110667625659 -0.38582200047803028031 0.34335009701159846518 -0.021373456207080070851 0.10554579009191179806 -0.2306964982055318969 0.02552177126943393215 -0.21657546807875666106 -0.13030753068646219739 0.17542880781931668999 0.33044937430800630507 0.21072437395249768444 0.13504603910886067708 0.24772718642134353151 -0.40280861376546461816 0.2236705444099253981 0.27772900500732500273 -0.0029598507968170272714 -0.071682696440078574884 0.29619172684022287978 -0.27036446458355029021 -0.073103613711595197278 0.16169100699389635234 -0.21744724440188198389 0.021625938928000909556 0.30293909356946663314 0.345176410198732464 -0.16415194137170943667 -0.074787153720910132249 -0.26997768451997777861 -0.19226881075196666782 -0.14676148868027555361 -0.15951547581719982549 0.1330391957588500651 0.34261748174607353778 0.22239862759715986473;0.10703147617001858294 0.38567553924318404013 0.24244985318759681991 0.22441902335281802006 -0.18739036460332433864 -0.39425693242872783539 -0.043870872300829456825 -0.28396471277622448159 0.21559842332438261536 -0.306404929747353727 0.36776019450777797104 0.28201127952067389648 -0.097298944703530523825 -0.31328850838021010672 -0.1515819147379655063 0.215176427153796479 0.033748518146544947971 0.23499314605907692388 -0.056309374411365693824 0.070266518088536553122 -0.082367026832477166498 -0.38448753876903285498 -0.10528936661151445942 -0.33342798345296043028 0.25854671735535789123 -0.058748098245155824793 -0.12323460963624843778 -0.065527282629540467562 0.10518630863015565602 0.024192474409840462185 0.27865292562226917639 0.33978988559330547403 -0.2171207069888324015 -0.3311002129216807921 0.24561374007112554696 -0.04886490437969115419 0.14064141562605569913 0.25018262216444370205 -0.34582287128229144413;-0.33770507737425814465 0.34602357557060442472 0.3379272602616288923 0.16658920480076039317 -0.38018895610072594993 -0.071897521133320874132 0.09103272330748905794 -0.32341384808809375828 -0.2159221154633141071 -0.29927370719781154484 -0.14203928164646303922 0.044998931016618684553 0.028831839857597435506 0.030638323122650006763 -0.0081851858535546221513 -0.061832681822486253165 0.36656387413763957817 0.22590543422047962285 0.29871798518409575784 0.015410190774874066647 -0.35648908678200130762 0.29388980149372834205 -0.33210815086136119545 0.3361147696289434883 -0.39439967767618261396 0.024559765110186742437 0.079616598035557775703 -0.06094835991902817357 -0.11128265464405506791 0.084986099929464140046 -0.25335340488152102711 -0.064338894511878449989 -0.088407498374008311459 -0.18325509075169116313 -0.38885614595562545404 0.34736387768648552266 -0.096448360945516870002 -0.33864859948644943088 0.10496636923216810799;-0.16393051399636390797 -0.020926917752227304492 0.16089104897781733583 -0.07049171181011879006 -0.32336464344022119999 -0.080425385552866490713 0.19977573677429807941 0.019900299406169393024 0.02401293084878525913 -0.18730451051875202095 -0.2392848014994701511 0.0537969155723505843 -0.34470088086373062986 -0.0061840664131238062134 -0.24140048179423800878 -0.33824782305720862974 -0.34042731231916406598 0.33286338181655239499 -0.25026015470420703846 -0.28280394046125595375 -0.2036326861328250637 0.39403761818143057116 0.27336773578934958628 0.37467190025669938613 -0.39285445955612952051 -0.17990179981614198845 0.25723131793096370989 -0.14894876413120730629 0.28579220933157312157 0.074390438468083464052 -0.20910329329309251811 -0.25918020477828618287 0.10617594357176977915 -0.099140183829527828152 0.40743977922276575221 0.071015068160989902601 -0.093667148235684866142 -0.14950814787614352674 0.019047097751600003401];

% Layer 2
b2 = -0.59963173590895146869;
LW2_1 = [0.24960311005175100929 0.24351434010931324869 0.97015882690662114118 0.7255594507602018961 -0.081540398657033538732 0.21276220362836889555 -0.72076000399405881769];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00171394292570057;
y1_step1.xoffset = -1166.9;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
